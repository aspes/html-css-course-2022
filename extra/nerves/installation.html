
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.34.2">
    <meta name="project" content="nerves v1.11.2">


    <title>Installation — nerves v1.11.2</title>
    <link rel="stylesheet" href="https://hexdocs.pm/nerves/dist/html-elixir-F2VRIOKR.css" />


    <script src="https://hexdocs.pm/nerves/dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="https://hexdocs.pm/nerves/dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="https://hexdocs.pm/nerves/dist/sidebar_items-E588B864.js"></script>
    <script src="https://hexdocs.pm/nerves/docs_config.js"></script>
    <script async src="https://hexdocs.pm/nerves/dist/html-YIPIRHGU.js"></script>

  <script async defer data-domain="hexdocs.pm" src="https://stats.hexdocs.pm/js/index.js"></script></head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="getting-started.html" class="sidebar-projectImage">
          <img src="https://hexdocs.pm/nerves/assets/logo.png" alt="nerves" />
        </a>

      <div>
        <a href="getting-started.html" class="sidebar-projectName" translate="no">
nerves
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v1.11.2
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
GUIDES
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


        <li>
          <button id="tasks-list-tab-button" role="tab" data-type="tasks" aria-controls="tasks-tab-panel" aria-selected="false" tabindex="-1">
            <span translate="no">Mix</span> Tasks
          </button>
        </li>

    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


    <div id="tasks-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="tasks-list-tab-button" hidden>
      <ul id="tasks-full-list" class="full-list"></ul>
    </div>

</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of nerves</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/nerves-project/nerves/blob/v1.11.2/guides/introduction/installation.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>


    <span>Installation</span>
  </h1>

<p>Nerves requires a number of programs on your system to work. These include
Erlang, Elixir, and a few tools for packaging firmware images. Nerves is
actively used on MacOS and various Linux distributions. For Windows users, some
people have had success running Linux in a virtual machine or using the Windows
Subsystem for Linux available in Windows 10. If you have issues after following
the steps below, please search or open a topic in the <a href="https://elixirforum.com/c/nerves-forum/74">Nerves category on the
Elixir Forum</a>.</p><p>Nerves requires specific Erlang and Elixir versions. We highly recommend using
<a href="https://asdf-vm.com">asdf</a> or <a href="https://mise.jdx.dev/">mise-en-place</a> rather
than your OS's package manager.</p><h2 id="macos" class="section-heading">
  <a href="#macos" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">MacOS</span>
</h2>
<p>The easiest installation route on MacOS is to use <a href="https://brew.sh">Homebrew</a>.
Just run the following:</p><pre><code class="makeup bash" translate="no"><span class="">brew update
</span><span class="">brew install fwup squashfs coreutils xz pkg-config
</span></code></pre><p>If you've already installed Erlang &amp; Elixir using Homebrew, you'll need to
uninstall them to avoid clashes with the recommended <code class="inline">asdf</code> or <code class="inline">mise</code>
installation.</p><pre><code class="makeup bash" translate="no"><span class="">brew uninstall elixir
</span><span class="">brew uninstall erlang
</span></code></pre><p>Optionally, if you want to build custom Nerves systems, you'll also need to
install <a href="https://www.docker.com/docker-mac">Docker for Mac</a>. After installing
Docker for Mac, you will likely want to adjust the resource limits imposed on
Docker, to allow it to successfully compile more complicated custom systems.
Click the Docker icon in the top menu bar, then click Preferences &gt; Advanced and
allow Docker to use all of your CPUs and as much RAM as you think is reasonable
for your machine (at least 6 GB). The more resources it has access to, the
faster you can compile a custom Nerves system.</p><p>Now skip to the instructions for all platforms below.</p><h2 id="windows" class="section-heading">
  <a href="#windows" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Windows</span>
</h2>
<p>Nerves on Windows 10 requires version 18917 (or later) with Windows Subsystem
for Linux 2 (WSL2) installed. See the <a href="https://docs.microsoft.com/en-us/windows/wsl/wsl2-install">WSL2 install
instructions</a> for
more information. Once you have WSL2 support enabled you will need to install an
instance of Linux. We recommend installing Ubuntu.</p><p>Next, follow the instructions for Linux inside your WSL2 Linux installation to
finish setting up the environment.</p><p>Finally, you'll need to install <code class="inline">fwup</code> using Chocolatey. See the <a href="https://chocolatey.org/install">chocolatey
install guide</a> for help installing Chocolatey on
your system. With Chocolatey installed, run the following from a Powershell:</p><pre><code class="powershell">choco install fwup /y</code></pre><p>When running on WSL2, Nerves uses the Linux version of <code class="inline">fwup</code> for building the
firmware files and the Windows version of <code class="inline">fwup</code> for burning firmware to SD
cards. It is important that you install <code class="inline">fwup</code> in both environments.</p><h2 id="linux" class="section-heading">
  <a href="#linux" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Linux</span>
</h2>
<p>First, install a few packages.</p><!-- tabs-open --><h3 id="ubuntu-and-debian" class="section-heading">
  <a href="#ubuntu-and-debian" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Ubuntu and Debian</span>
</h3>
<pre><code class="makeup bash" translate="no"><span class="">sudo apt install build-essential automake autoconf git squashfs-tools ssh-askpass pkg-config curl libmnl-dev libssl-dev libncurses5-dev help2man libconfuse-dev libarchive-dev
</span></code></pre><p>Then install <a href="https://github.com/fwup-home/fwup">fwup</a> using <code class="inline">asdf</code> or <code class="inline">mise</code> or
manually from source. Nerves uses <code class="inline">fwup</code> in the build process to create firmware
images. Here are the <code class="inline">asdf</code> instructions:</p><pre><code class="makeup bash" translate="no"><span class="">asdf plugin add fwup https://github.com/fwup-home/asdf-fwup.git
</span><span class="">asdf install fwup latest
</span><span class="">asdf global fwup latest
</span></code></pre><h3 id="fedora" class="section-heading">
  <a href="#fedora" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Fedora</span>
</h3>
<pre><code class="makeup bash" translate="no"><span class="">sudo dnf install @development-tools automake autoconf git squashfs-tools openssh-askpass pkgconf-pkg-config curl libmnl-devel openssl-devel ncurses-devel help2man libconfuse-devel libarchive-devel
</span></code></pre><p>Some Fedora have reported that they had to create a symlink
from <code class="inline">/usr/bin/ssh-askpass</code> to <code class="inline">/usr/bin/qt4-ssh-askpass</code>.</p><p>Then install <a href="https://github.com/fwup-home/fwup">fwup</a> using <code class="inline">asdf</code> or <code class="inline">mise</code> or
manually from source. Nerves uses <code class="inline">fwup</code> in the build process to create firmware
images. Here are the <code class="inline">asdf</code> instructions:</p><pre><code class="makeup bash" translate="no"><span class="">asdf plugin add fwup https://github.com/fwup-home/asdf-fwup.git
</span><span class="">asdf install fwup latest
</span><span class="">asdf global fwup latest
</span></code></pre><h3 id="arch" class="section-heading">
  <a href="#arch" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arch</span>
</h3>
<pre><code class="makeup bash" translate="no"><span class="">yay -S base-devel ncurses5-compat-libs openssh-askpass git squashfs-tools curl
</span></code></pre><p>Some users have reported that they had to
create a symlink from <code class="inline">/usr/bin/ssh-askpass</code> to <code class="inline">/usr/bin/qt4-ssh-askpass</code>.</p><h3 id="nixos" class="section-heading">
  <a href="#nixos" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">NixOS</span>
</h3>
<p>Create a <code class="inline">shell.nix</code> file with the following contents:</p><pre><code class="nix">{ pkgs ? import &lt;nixpkgs&gt; {} }:

with pkgs;

mkShell {
  name = &quot;nervesShell&quot;;
  buildInputs = [
    autoconf
    automake
    curl
    erlangR25
    fwup
    git
    pkgs.beam.packages.erlangR25.elixir
    rebar3
    squashfsTools
    x11_ssh_askpass
    pkg-config
  ];
  shellHook = ''
    SUDO_ASKPASS=${pkgs.x11_ssh_askpass}/libexec/x11-ssh-askpass
  '';
}</code></pre><p>Use <code class="inline">nix-shell shell.nix</code> to start a shell with all the Nerves dependencies
needed for building firmware.</p><p>If instead, you'd like to install the dependencies on your host system, you can
include the same packages listed under <code class="inline">buildInputs</code> in the
<code class="inline">environment.systemPackages</code> section of your NixOS <code class="inline">configuration.nix</code> file.</p><p>Please note that you may need to adjust the <code class="inline">SUDO_ASKPASS</code> environment
variable to include the correct path to the askpass program of your choice. A
known, working alternative to <code class="inline">x11_ssh_askpass</code> is <code class="inline">lxqt.lxqt-openssh-askpass</code>.
To use this instead change the package name and change the definition of
<code class="inline">SUDO_ASKPASS</code> to:</p><pre><code class="nix">SUDO_ASKPASS=${pkgs.lxqt.lxqt-openssh-askpass}/bin/lxqt-openssh-askpass</code></pre><!-- tabs-close --><p>If these instructions aren't accurate, please consider <a href="https://github.com/nerves-project/nerves/blob/main/guides/introduction/installation.md">sending us an improvement to this
page</a>.</p><h2 id="all-platforms" class="section-heading">
  <a href="#all-platforms" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">All platforms</span>
</h2>
<p>Then install the required versions of Erlang/OTP and Elixir. We highly recommend
using <a href="asdf-vm.com">asdf</a> or <a href="https://mise.jdx.dev/">mise-en-place</a>. Please
refer to those sites for installation directions.</p><p>After you've installed a <code class="inline">asdf</code> or <code class="inline">mise</code>, run the following to install
Erlang/OTP and Elixir:</p><blockquote><h4 class="tip">Debian/Ubuntu</h4><p>If on Debian or Ubuntu, you'll want to install <code class="inline">wx</code> before installing Erlang.
Run the command based on your system:</p><ul><li>Ubuntu &lt; 20.04: <code class="inline">sudo apt install libwxgtk3.0-dev</code></li><li>Ubuntu &gt;= 20.04: <code class="inline">sudo apt install libwxgtk3.0-gtk3-dev</code></li><li>Arch based systems: <code class="inline">yay -S wxgtk2 fop jdk-openjdk unzip</code></li></ul></blockquote><blockquote><h4 class="tip">Different Erlang/Elixir versions</h4><p>It's possible to use different Erlang and Elixir versions with Nerves. The
latest official Nerves systems are compatible with the versions below. In
general, differences in patch releases are harmless. Nerves detects
configurations that might not work at compile time.</p></blockquote><!-- tabs-open --><h3 id="asdf" class="section-heading">
  <a href="#asdf" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">asdf</span>
</h3>
<pre><code class="makeup sh" translate="no"><span class="">asdf plugin-add erlang
</span><span class="">asdf plugin-add elixir
</span><span class="">
</span><span class="">asdf install erlang 27.0.1
</span><span class="">asdf install elixir 1.17.3-otp-27
</span><span class="">asdf global erlang 27.0.1
</span><span class="">asdf global elixir 1.17.3-otp-27
</span></code></pre><h3 id="mise" class="section-heading">
  <a href="#mise" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">mise</span>
</h3>
<pre><code class="makeup sh" translate="no"><span class="">mise use -g erlang@27.0.1
</span><span class="">mise use -g elixir@1.17.3-otp-27
</span></code></pre><blockquote><h4 class="tip">Auto plugin install</h4><p><code class="inline">mise</code> automatically installs the needed plugin. If it does not work for
some reason, you can also manually install with:</p><pre><code class="makeup sh" translate="no"><span class="">mise plugin install erlang
</span><span class="">mise plugin install elixir
</span></code></pre></blockquote><!-- tabs-close --><p>It is important to update the versions of <code class="inline">hex</code> and <code class="inline">rebar3</code> used by Elixir,
<strong>even if you already had Elixir installed</strong>.</p><pre><code class="makeup bash" translate="no"><span class="">mix local.hex
</span><span class="">mix local.rebar
</span></code></pre><p>If you have your own version of <code class="inline">rebar3</code> in your path, be sure that it is
up-to-date.</p><p>You can now add the <code class="inline">nerves_bootstrap</code> archive to your Mix environment. This
archive allows Nerves to bootstrap the Mix environment, ensuring that your code
is properly compiled using the right cross-compiler for the target. The
<code class="inline">nerves_bootstrap</code> archive also includes a project generator, which you can use
to create new Nerves projects. To install the <code class="inline">nerves_bootstrap</code> archive:</p><pre><code class="makeup bash" translate="no"><span class="">mix archive.install hex nerves_bootstrap
</span></code></pre>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="getting-started.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Getting Started
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="connecting-to-a-nerves-target.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Connecting to a Nerves Target
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/nerves/1.11.2" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/nerves/1.11.2">Hex Preview</a>

              (<a href="https://preview.hex.pm/preview/nerves/1.11.2/show/guides/introduction/installation.md">current file</a>)

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="nerves.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.34.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
